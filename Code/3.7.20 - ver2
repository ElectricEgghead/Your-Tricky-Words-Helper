/**
Description: Application that takes in a letter and displays tricky-to-spell words.
**/

#include "includeDeclarations.h"
#include "usingDeclarations.h"

char userLetterInput;
char userChoiceContinue;
char letterCharSwitch;
string userFirstName;
string line;
vector <string> trickyWordsVector;
void printWords();

int main() {
	cout << "----------------<>-----------\n";
	cout << "Welcome to Your TRICKY WORDS Helper!\n";
	cout << "----------------<>-----------\n";
	cout << "\n\nEnter your first name: ";
	cin >> userFirstName;
	
  do {	
	cout << "Enter a letter [a - z]: ";
	cin >> userLetterInput;
    	// char(tolower(userLetterInput)); //TODO data validation
    	cout << "\n" << userFirstName << ",\n\nHere's your list of tricky words for the letter (" << char(toupper(userLetterInput)) << "):\n" << endl;

	ifstream trickyWordsFile("trickyWordsList.txt"); // open the file
		
	if (trickyWordsFile.is_open()) {
		while (getline(trickyWordsFile, line)) {
			if (line.size() > 0) {
				trickyWordsVector.push_back(line);
			}
		}
		} else {
		cerr << "Cannot open the file.";
		}

	trickyWordsFile.close();
			   
	// switch letters and print words
    	printWords();

	cout << "\nWould you like to enter another letter [y,n]?: "; //TODO error prints list twice. Related to do-while loop
	cin >> userChoiceContinue;
	} while(userChoiceContinue == 'y' || userChoiceContinue == 'Y'); // end while

  	cout << "\n----------------<>-----------\n";
	cout << "Thank you for using Your TRICKY WORDS Helper!\n";
	cout << "----------------<>-----------\n";
	return 0;
} // end main()

void printWords(){
  	for (int i = 0; i < trickyWordsVector.size(); i++) {
     	letterCharSwitch = userLetterInput;
    
 	if(trickyWordsVector[i][0] == letterCharSwitch){
      	cout << trickyWordsVector[i];
      	cout << "\n";
      }
  }
} // end printWords()
